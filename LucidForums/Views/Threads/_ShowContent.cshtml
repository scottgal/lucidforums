@model LucidForums.Models.ViewModels.ThreadVm
<h1 class="text-2xl font-bold mb-2">@Model.Title</h1>
<div class="flex items-center gap-3 mb-4 text-sm text-gray-600">
    @if (Model.CharterScore.HasValue)
    {
        <span title="Charter alignment score" class="px-2 py-0.5 rounded bg-gray-100 border">Score: @Model.CharterScore.Value.ToString("0")</span>
    }
    @if (Model.Tags != null && Model.Tags.Count > 0)
    {
        <div class="flex flex-wrap gap-1 items-center">
            @foreach (var tag in Model.Tags)
            {
                <span class="px-2 py-0.5 rounded-full bg-blue-50 text-blue-700 border border-blue-200 text-xs">@tag</span>
            }
        </div>
    }
</div>
<div x-data="forumThread('@Model.Id', '@LucidForums.Hubs.ForumHub.HubPath')" x-init="init()">
    <div id="messages">
        @await Html.PartialAsync("_MessageList", Model.Messages)
    </div>
    <div class="mt-4">
        @await Html.PartialAsync("_ReplyForm", new LucidForums.Models.ViewModels.ReplyVm { ThreadId = Model.Id })
    </div>
</div>
