@model LucidForums.Models.ViewModels.ThreadVm
@{
    ViewData["Title"] = Model.Title;
}
<h1 class="text-2xl font-bold mb-4">@Model.Title</h1>
<div x-data="forumThread('@Model.Id', '@LucidForums.Hubs.ForumHub.HubPath')" x-init="init()">
    <div id="messages">
        @await Html.PartialAsync("_MessageList", Model.Messages)
    </div>
    <div class="mt-4">
        @await Html.PartialAsync("_ReplyForm", new LucidForums.Models.ViewModels.ReplyVm { ThreadId = Model.Id })
    </div>
</div>

@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/8.0.7/signalr.min.js" integrity="sha512-mZJtJ7KkN6wY2/XKMlS4FtsbF5u1xZJ8x67zVGDJq5SgB7PehH0mUwc3f7+0JZcHikKQ8HkP1FQf4q2oQv2YEA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="~/js/forum-thread.js"></script>
}
